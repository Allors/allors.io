<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Migration | Allors Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Migration | Allors Documentation"><meta data-react-helmet="true" name="description" content="Example"><meta data-react-helmet="true" property="og:description" content="Example"><meta data-react-helmet="true" property="og:url" content="https://allors.io//docs/Platform/Derivation/MigrateFromV2/Migration"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://allors.io//docs/Platform/Derivation/MigrateFromV2/Migration"><link rel="stylesheet" href="/styles.47d34c70.css">
<link rel="preload" href="/styles.78f5bcab.js" as="script">
<link rel="preload" href="/runtime~main.3e2de352.js" as="script">
<link rel="preload" href="/main.e5e120ba.js" as="script">
<link rel="preload" href="/1.4c8348ab.js" as="script">
<link rel="preload" href="/2.1f7e3788.js" as="script">
<link rel="preload" href="/3.696dccac.js" as="script">
<link rel="preload" href="/1be78505.bda47222.js" as="script">
<link rel="preload" href="/41.eab6e1c1.js" as="script">
<link rel="preload" href="/20ac7829.792098dd.js" as="script">
<link rel="preload" href="/17896441.f850c4eb.js" as="script">
<link rel="preload" href="/3e16e867.ca48393a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://allors.io/" target="_self" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/img/allors.svg" alt="Allors Logo"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Platform/Derivation/Overview">Docs</a><a class="navbar__item navbar__link" href="/events">Events</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://allors.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Allors</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://allors.io/" target="_self" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/img/allors.svg" alt="Allors Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/Platform/Derivation/Overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/events">Events</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://allors.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Allors</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Migration</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example"></a>Example<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="explaining-domain-example-class-consistency"></a>Explaining Domain Example (Class Consistency)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#explaining-domain-example-class-consistency" title="Direct link to heading">#</a></h2><img alt="Example Domain" src="/img/derivation/example-domain.png"><p>We&#x27;re going to take as an example the game weeding is played with 4 people (each person has a name) each game has a start/end date,, number of skips,, a game type and participating people, each game has leaders,, defenders and ultimately a winning team,, with this information a score is calculated. After each game,the score per person is storedin the scoreboard. . <a href="https://wikipedia.org/wiki/Colour_whist" target="_blank" rel="noopener noreferrer">Click here for more information about the rules of the game</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="prederive-example"></a>PreDerive Example<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prederive-example" title="Direct link to heading">#</a></h2><p>The PreDerive of game is going to look at which variable depends on each other (dependencies) before they are derived.&#x27; In this case, game will add a dependency on the scoreboard to which this game is associated. Important is the order in the &quot;AddDependency&quot; methods, the first object will not be derived until after the second object. In this case, our game (this) will be derived first, and then only the scoreboard (this. ScoreboardWhereGame) to which this game is linked.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>Example of Derive</p><p>This mode of game introduces a variable derivation,checking whether the game&#x27;s start/finish date is legitimate,equates the defenders with the players except the attackers and ins nor insenses the &quot;Sync&quot; methods.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example-of-sync"></a>Example of Sync<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-of-sync" title="Direct link to heading">#</a></h2><p>This sync method of game checks if a scoreboard exists if it doesn&#x27;t delete every score in the game if it does make it a player list,, then it goes running over all the scores, delete any player who alreadyhas a score had and delete every score from whichthe player no longeroccurs then it goes running over the created player list and generate scores for players without score..</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><h2></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example-postderive"></a>Example PostDerive<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-postderive" title="Direct link to heading">#</a></h2><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="extended"></a>Extended<a aria-hidden="true" tabindex="-1" class="hash-link" href="#extended" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="diagram-of-class-consistency"></a>Diagram of Class Consistency<a aria-hidden="true" tabindex="-1" class="hash-link" href="#diagram-of-class-consistency" title="Direct link to heading">#</a></h2><img alt="Example Diagram" src="/img/derivation/class-governs-derivation.png"><p>This diagram shows all the class that governs the derivation process.</p><img alt="Example Diagram" src="/img/derivation/interfaces-derivation-process.png"><p>This diagram shows all the interfaces of the derivation process.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="go-over-the-derivation-process-by-class--code"></a>Go over the Derivation process by Class + Code<a aria-hidden="true" tabindex="-1" class="hash-link" href="#go-over-the-derivation-process-by-class--code" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="derivationcs"></a>Derivation.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#derivationcs" title="Direct link to heading">#</a></h3><img alt="Example Diagram" src="/img/derivation/derivation-cs.png"><p>The derivation process starts in the Derivation.cs class. This class contains the &quot;Derive&quot; methods that are called to start the derivation process.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;Derive&quot; methods will create a &quot;CycleCycle object&quot; and there the &quot;Execute&quot; methods of invocation. These methods receive all &quot;Marked objects&quot;&quot; of which we are aware. A &quot;marked object&quot; is an object marked by another object, the result is that this highlighted object will be derived. This will continue to be repeated until all objects are derived. . Once all objects are derived, we return a validation stating that there were problems or not. It is possible to force a Derive even though there are no changes, suppose you still want an object or several objects to be distracted again.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cyclecs"></a>Cycle.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cyclecs" title="Direct link to heading">#</a></h3><img alt="Example Diagram" src="/img/derivation/cycle-cs.png"><p>The &quot;Cycle&quot; class aims to start the (iteration) and then perform the Post Derives.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;Execute&quot; methods create an &quot;Iteration object&quot; and then ins nor the &quot;Execute&quot; methods of this object. These methods will receive all objects that can be executed postderive and all highlighted objects. This will continue to repeat until all objects have completed their PreDerives and Derives. After this, we will call all posts of all items that have not been deleted.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="iterationcs"></a>Iteration.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iterationcs" title="Direct link to heading">#</a></h3><img alt="Example Diagram" src="/img/derivation/iteration-cs.png"><p>The &quot;Iteration&quot; class aims to wait until the PreDerives are executed and then perform the Derives.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;Execute&quot; method is called by the &quot;CCycle&quot;class. If we have received marked objects, we will refer them to the &quot;Graph object&quot;&quot;. The &quot;Preparation.Execute()&quot; will be released by the PreDerives.ren This will continue to repeat until all PreDerives are ready. When all the PreDerives are ready,the Derives are carried out.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;Mark&quot; method is called from a PreDerive of an object. This method will ensure that the object it is given is marked as a parameter if it has not already</p><p>The &quot;AddDependency&quot; method is also called from a PreDerive of an object. These methods will create the dependency between the received objects.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="preparationcs"></a>Preparation.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#preparationcs" title="Direct link to heading">#</a></h3><img alt="Example Diagram" src="/img/derivation/preparation-cs.png"><p>The &quot;Preparation&quot; class aims to perform the prederives.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The constructor will request the &quot;changeSet&quot;. The &quot;session. Checkpoint&quot; makes a changeet of a certain point. If there are any derives, the objects are initialized. The &quot;changeObjectIds&quot; variable is a collection of all object id that have changed. A collection is filled with the objects that have been changed and the highlighted objects.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;Execute&quot; method ensures that all objects are prederived and added to the &quot;Prederived&quot; collection.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="graphcs"></a>Graph.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#graphcs" title="Direct link to heading">#</a></h3><img alt="Example Diagram" src="/img/derivation/graph-cs.png"><p>The &quot;Graph&quot; class aims to create the &quot;DerivationNodes&quot; and to call their &quot;TopologicalDerive&quot; by node.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;GetOrAddDerivationNode&quot; merthode will look into whether or not the object receiving this method already has a &quot;Node&quot;, if not there will be &quot;Node&quot; created, if it will find the correct &quot;Node&quot;. In both cases, the Node will be returned.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;Derive&quot; method is about all &quot;Nodes&quot; loops and for each &quot;Node&quot; the &quot;TopologicalDerive&quot; call.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="nodecs"></a>Node.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#nodecs" title="Direct link to heading">#</a></h3><img alt="Example Diagram" src="/img/derivation/node-cs.png"><p>The &quot;Node&quot; class aims to invoke the &quot;OnDerive&quot; method of its object. This is not done by any order, but take into account &quot;Dependencies&quot;.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;TopologicalDerive&quot; method is the first to look at the fact that the current &quot;Node&quot; has not yet been addressed in order to prevent the same thing from being performed twice. Then it is looked at that there may or may not be &quot;Dependencies&quot;, if this is the case we willperform their &quot;TopologicalDerive&quot; before st. Once all &quot;Dependencies&quot; has performed their &quot;TopologicalDerive&quot; we are going to call our own object its &quot;OnDerive&quot; methods. aanroepen.</p><p>The &quot;TopologicalDerive&quot; method is a variant of a Topological Sort. For more info click <a href="https://en.wikipedia.org/wiki/Topological_sorting#Kahn&#x27;s_algorithm" target="_blank" rel="noopener noreferrer">here.</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="accumulatedchangesetcs"></a>AccumulatedChangeSet.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#accumulatedchangesetcs" title="Direct link to heading">#</a></h3><p>The &quot;AccumulatedChangeSet&quot; keeps track of what&#x27;s beenadjusted. Every time we do a Derive we can look in this changeset what has been adjusted. Because we can see what has been adjusted, we can prevent a possible course.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example-overflows-that-go-through-all-class"></a>Example overflows that go through all Class<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-overflows-that-go-through-all-class" title="Direct link to heading">#</a></h2><p>(dotuml)</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/allors/allors.io/edit/master/docs/Platform/Derivation/MigrateFromV2/Migration.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#explaining-domain-example-class-consistency" class="table-of-contents__link">Explaining Domain Example (Class Consistency)</a></li><li><a href="#prederive-example" class="table-of-contents__link">PreDerive Example</a></li><li><a href="#example-of-sync" class="table-of-contents__link">Example of Sync</a></li><li><a href="#example-postderive" class="table-of-contents__link">Example PostDerive</a></li><li><a href="#diagram-of-class-consistency" class="table-of-contents__link">Diagram of Class Consistency</a></li><li><a href="#go-over-the-derivation-process-by-class--code" class="table-of-contents__link">Go over the Derivation process by Class + Code</a><ul><li><a href="#derivationcs" class="table-of-contents__link">Derivation.cs</a></li><li><a href="#cyclecs" class="table-of-contents__link">Cycle.cs</a></li><li><a href="#iterationcs" class="table-of-contents__link">Iteration.cs</a></li><li><a href="#preparationcs" class="table-of-contents__link">Preparation.cs</a></li><li><a href="#graphcs" class="table-of-contents__link">Graph.cs</a></li><li><a href="#nodecs" class="table-of-contents__link">Node.cs</a></li><li><a href="#accumulatedchangesetcs" class="table-of-contents__link">AccumulatedChangeSet.cs</a></li></ul></li><li><a href="#example-overflows-that-go-through-all-class" class="table-of-contents__link">Example overflows that go through all Class</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/Platform/Derivation/Overview">Derivation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Platform/Security/Overview">Security</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Platform/Demo">Demo</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Excel/Features">Excel</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Events</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/events">DevCon 2020</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/allors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/allors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://facebook.com/allors.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/allors/allors.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/allors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://linkedin.com/company/allors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Allors, Inc. Built with &#x2764; & Docusaurus.</div></div></div></footer></div>
<script src="/styles.78f5bcab.js"></script>
<script src="/runtime~main.3e2de352.js"></script>
<script src="/main.e5e120ba.js"></script>
<script src="/1.4c8348ab.js"></script>
<script src="/2.1f7e3788.js"></script>
<script src="/3.696dccac.js"></script>
<script src="/1be78505.bda47222.js"></script>
<script src="/41.eab6e1c1.js"></script>
<script src="/20ac7829.792098dd.js"></script>
<script src="/17896441.f850c4eb.js"></script>
<script src="/3e16e867.ca48393a.js"></script>
</body>
</html>