<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Security | Allors Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Security | Allors Documentation"><meta data-react-helmet="true" name="description" content="Security in Allors"><meta data-react-helmet="true" property="og:description" content="Security in Allors"><meta data-react-helmet="true" property="og:url" content="https://allors.io//docs/Platform/Security/Security"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://allors.io//docs/Platform/Security/Security"><link rel="stylesheet" href="/styles.47d34c70.css">
<link rel="preload" href="/styles.f64cc735.js" as="script">
<link rel="preload" href="/runtime~main.086e5545.js" as="script">
<link rel="preload" href="/main.fd91c07e.js" as="script">
<link rel="preload" href="/1.7bbc3b32.js" as="script">
<link rel="preload" href="/2.2d43474b.js" as="script">
<link rel="preload" href="/3.cb6c26be.js" as="script">
<link rel="preload" href="/1be78505.8a4d0aca.js" as="script">
<link rel="preload" href="/38.9c2a8b74.js" as="script">
<link rel="preload" href="/20ac7829.fb462041.js" as="script">
<link rel="preload" href="/17896441.7f3f8eca.js" as="script">
<link rel="preload" href="/2cb077f0.ff07b095.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://allors.io/" target="_self" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/img/allors.svg" alt="Allors Logo"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Platform/Derivation/Overview">Docs</a><a class="navbar__item navbar__link" href="/events">Events</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://allors.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Allors</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://allors.io/" target="_self" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/img/allors.svg" alt="Allors Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/Platform/Derivation/Overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/events">Events</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://allors.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Allors</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Platform</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Platform/Overview/Allors">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Derivation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Platform/Derivation/Overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Platform/Derivation/Derivation">Derivation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Platform/Derivation/Demo">Demo</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Security</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Platform/Security/Overview">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/Platform/Security/Security">Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Platform/Security/Configure">Configure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Platform/Security/Demo">Demo</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Excel</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Excel/Features">Features</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Security</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="security-in-allors"></a>Security in Allors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#security-in-allors" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="essence"></a>Essence<a aria-hidden="true" tabindex="-1" class="hash-link" href="#essence" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="why-security"></a>Why security<a aria-hidden="true" tabindex="-1" class="hash-link" href="#why-security" title="Direct link to heading">#</a></h2><p>To ensure that sensitive information is only accessible to the users who are entitled to it. An example where this is important is a company. In a company you usually don&#x27;t want all users to be able to handle all contacts and invoices.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="security-in-allors-1"></a>Security in Allors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#security-in-allors-1" title="Direct link to heading">#</a></h2><p>In Allors we use &quot;<a href="https://en.wikipedia.org/wiki/Role-based_access_control" target="_blank" rel="noopener noreferrer">role based security.</a>&quot;. This means that each user has one or more roleslen and based on this role(len) the user can do certain things or not.. The most common roles are the admin and user. In a &quot;role based security&quot; an admin will usually be able to do anything in front of a user who will usually be able to do almost nothing. In Allors, we distinguish between three types of access, &quot;Read,&quot;, &quot;Write&quot;, and &quot;Execute&quot;. These three rights shall be divided among all roles.. In Allors it is also possible to exterminate different rights per class per role and for further security.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example"></a>Example<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="extended"></a>Extended<a aria-hidden="true" tabindex="-1" class="hash-link" href="#extended" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="diagram-of-class-consistency"></a>Diagram of class consistency<a aria-hidden="true" tabindex="-1" class="hash-link" href="#diagram-of-class-consistency" title="Direct link to heading">#</a></h2><img alt="Security Process" src="/img/security/interfaces-security-process.png"><p>This diagram shows all the interfaces that control the security process.</p><img alt="Security Process" src="/img/security/security-process.png"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="go-over-the-security-process-by-class--code"></a>Go over the security process by class + code<a aria-hidden="true" tabindex="-1" class="hash-link" href="#go-over-the-security-process-by-class--code" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="accesscontrollistscs"></a>AccessControlLists.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#accesscontrollistscs" title="Direct link to heading">#</a></h3><p>The &quot;AccessControlLists&quot; class aims to request all &quot;AccessControlList&quot; from a particular user.</p><p>The &quot;this[IObject @object]&quot; method is going to create and add an &quot;AccessControlList&quot; object to &quot;AclByObject&quot;. At the latest, &quot;AccessControlList&quot; item will be returned.</p><p>AccessControlList.cs</p><img alt="Security Process" src="/img/security/access-control-list-cs.png"><p>The &quot;AccessControlLists&quot; class aims to see if that a user has access to do a particular operation on a particular class variable.</p><p>The &quot;CanRead&quot; method is going to see if the user has access to read the variable class. By calling the method &quot;IsPermitted&quot; with the parameters the &quot;propertyType&quot; and &quot;Operations&quot;.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;IsPermitted&quot; method calls for the &quot;lazyload&quot; method. After that, we will see whether this is a permission for the particular class of varaibele. Then we will see if that permission exists with the particular operation. If that permission id is included in the &quot;deniedPermissions&quot;, false returns will be returned. If the permission id is in &quot;EffectivePermissionIdsByAccessControl&quot; collection, true will be returned.</p><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><div class="mdxCodeBlock_1XEh"><code class="language-csharp"></code></div><p>The &quot;Lazyload&quot; method is used to request all &quot;deniedPermissions&quot;,&quot;, &quot;accessControls&quot; and &quot;permissionIdByOperationByOperandTypeId&quot; of class variable. . The method can only be called once in its lifetime.. If the object is a &quot;DelegatedAccessControlledObject&quot;. Then the &quot;deniedPermissions&quot; and &quot;securityTokens&quot; of the superclass are caught. If the object is not a &quot;DelegatedAccessControlledObject&quot;, the &quot;deniedPermissions&quot; and &quot;securityTokens&quot; will be taken from the object itself. If no securityTokens could be retrieved, the &quot;DefaultSecurityToken&quot; is used. The &quot;accessControls&quot; will be requested by looking at which &quot;EffectivePermissionIdsByAccessControl&quot; has the right &quot;securityToken&quot;. Only the &quot;permissionIdByOperationByOperandTypeId&quot; are retrieved with the correct &quot;classId&quot; of the cache.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="rolescs"></a>Roles.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#rolescs" title="Direct link to heading">#</a></h3><img alt="Security Process" src="/img/security/roles-cs.png"><p>The role class defines a role that has different permissions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="permissionscs"></a>Permissions.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#permissionscs" title="Direct link to heading">#</a></h3><img alt="Security Process" src="/img/security/permission-cs.png"><p>Permissions determines what rights each user has.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="securitytokencs"></a>SecurityToken.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#securitytokencs" title="Direct link to heading">#</a></h3><img alt="Security Process" src="/img/security/security-token-cs.png"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="usergroupscs"></a>UserGroups.cs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#usergroupscs" title="Direct link to heading">#</a></h3><p>User groups are used to group users with a group name.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/allors/allors.io/edit/master/docs/Platform/Security/Security.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Platform/Security/Overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Platform/Security/Configure"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configure Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-security" class="table-of-contents__link">Why security</a></li><li><a href="#security-in-allors-1" class="table-of-contents__link">Security in Allors</a></li><li><a href="#diagram-of-class-consistency" class="table-of-contents__link">Diagram of class consistency</a></li><li><a href="#go-over-the-security-process-by-class--code" class="table-of-contents__link">Go over the security process by class + code</a><ul><li><a href="#accesscontrollistscs" class="table-of-contents__link">AccessControlLists.cs</a></li><li><a href="#rolescs" class="table-of-contents__link">Roles.cs</a></li><li><a href="#permissionscs" class="table-of-contents__link">Permissions.cs</a></li><li><a href="#securitytokencs" class="table-of-contents__link">SecurityToken.cs</a></li><li><a href="#usergroupscs" class="table-of-contents__link">UserGroups.cs</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/Platform/Derivation/Overview">Derivation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Platform/Security/Overview">Security</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Platform/Demo">Demo</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Excel/Features">Excel</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Events</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/events">DevCon 2020</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/allors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/allors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://facebook.com/allors.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/allors/allors.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/allors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://linkedin.com/company/allors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Allors, Inc. Built with &#x2764; & Docusaurus.</div></div></div></footer></div>
<script src="/styles.f64cc735.js"></script>
<script src="/runtime~main.086e5545.js"></script>
<script src="/main.fd91c07e.js"></script>
<script src="/1.7bbc3b32.js"></script>
<script src="/2.2d43474b.js"></script>
<script src="/3.cb6c26be.js"></script>
<script src="/1be78505.8a4d0aca.js"></script>
<script src="/38.9c2a8b74.js"></script>
<script src="/20ac7829.fb462041.js"></script>
<script src="/17896441.7f3f8eca.js"></script>
<script src="/2cb077f0.ff07b095.js"></script>
</body>
</html>